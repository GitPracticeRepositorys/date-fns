# Node.js app build
- job: Build
  pool:
    vmImage: ubuntu-latest
  steps:
  - task: NodeTool@0
    inputs:
      versionSpec: '14.x'
    displayName: 'Install Node.js'
  - task: Npm@1
    inputs:
      command: 'install'
      workingDir: '$(Build.SourcesDirectory)'
  - task: Npm@1
    inputs:
      command: 'run'
      arguments: 'build'
      workingDir: '$(Build.SourcesDirectory)'
    displayName: 'npm run build'
  - task: Docker@2
    displayName: 'Build and Push Docker Image'
    inputs:
      command: 'buildAndPush'
      containerRegistry: 'Docker-Hub-Connection'
      repository: 'shivakrishna99/nopCommerce'
      dockerfile: '$(Build.SourcesDirectory)/Dockerfile'
      tags: |
        $(Build.BuildId)
        latest 

